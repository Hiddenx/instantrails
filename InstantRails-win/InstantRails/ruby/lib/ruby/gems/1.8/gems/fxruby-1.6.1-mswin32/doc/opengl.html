<html><head>
      <meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
   <title>Appendix&nbsp;A.&nbsp;Using OpenGL with FXRuby</title><meta name="generator" content="DocBook XSL Stylesheets V1.61.2"><link rel="home" href="book.html" title="Developing Graphical User Interfaces with FXRuby"><link rel="up" href="pt02.html" title="Part&nbsp;II.&nbsp;Appendices"><link rel="previous" href="pt02.html" title="Part&nbsp;II.&nbsp;Appendices"><link rel="next" href="scintilla.html" title="Appendix&nbsp;B.&nbsp;Using Scintilla with FXRuby"></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">Appendix&nbsp;A.&nbsp;Using OpenGL with FXRuby</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="pt02.html">Prev</a>&nbsp;</td><th width="60%" align="center">Part&nbsp;II.&nbsp;Appendices</th><td width="20%" align="right">&nbsp;<a accesskey="n" href="scintilla.html">Next</a></td></tr></table><hr></div><div class="appendix" lang="en"><div class="titlepage"><div><div><h2 class="title"><a name="opengl"></a>Appendix&nbsp;A.&nbsp;Using OpenGL with FXRuby</h2></div></div><div></div></div><div class="abstract"><p class="title"><b>Abstract</b></p><p>FOX provides extensive support for OpenGL through its
    <tt class="classname">FXGLCanvas</tt> and <tt class="classname">FXGLViewer</tt>
    widgets, and FXRuby in turn provides interfaces to those classes. By
    combining FXRuby with the OpenGL interface for Ruby (described below) you
    can develop very powerful 3-D graphics applications. This chapter gives
    you the information you'll need to get started.</p></div><div class="simplesect" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="d0e3658"></a>What is OpenGL?</h2></div></div><div></div></div><p>OpenGL is a platform-independent API for 2D and 3D graphics. The
    home page is <a href="http://www.opengl.org" target="_top">http://www.opengl.org</a>. Because it's a
    fairly open standard, highly optimized OpenGL drivers are available for
    most operating systems (including Windows and Linux).</p></div><div class="simplesect" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="d0e3666"></a>OpenGL Extensions for Ruby</h2></div></div><div></div></div><p>This extension module, developed by Yoshiyuki Kusano, provides
    interfaces to not only the basic OpenGL API, but also the GLU and GLUT
    APIs. As of this writing, the currently released version is 0.32d and is
    available for download from <a href="http://www2.giganet.net/~yoshi/rbogl-0.32b.tgz" target="_top">http://www2.giganet.net/~yoshi/rbogl-0.32d.tgz</a>.
    Be sure to check the <a href="http://www.ruby-lang.org/en/raa.html" target="_top">Ruby Application
    Archive</a> for the latest version of this extension as it is still
    under development.</p><p>Once you've downloaded the tarball, you should extract its contents
    to the working directory of your choice by typing:</p><table border="0" bgcolor="#E0E0E0" width="100%"><tr><td><pre class="screen">$ <b class="command">tar xzf rbogl-0.32d.tgz</b></pre></td></tr></table><p>After executing this command you should have a new <tt class="filename">opengl</tt> (<span class="emphasis"><em>not</em></span> <tt class="filename">rbogl-0.32b</tt>) subdirectory. Change to this
    directory and then type:</p><table border="0" bgcolor="#E0E0E0" width="100%"><tr><td><pre class="screen">$ <b class="command">ruby extconf.rb</b></pre></td></tr></table><p>This should create a <tt class="filename">Makefile</tt> configured
    appropriately for your local Ruby installation. To now build the OpenGL
    module, type:</p><table border="0" bgcolor="#E0E0E0" width="100%"><tr><td><pre class="screen">$ <b class="command">make</b></pre></td></tr></table><p>You can safely ignore the warning(s) about
    <tt class="methodname">glut_KeyboardFunc</tt> when it's compiling
    <tt class="filename">glut.c</tt>. Well, I ignore them and it hasn't hurt me yet
    ;) Assuming you get an otherwise clean build, install the OpenGL
    extensions by typing:</p><table border="0" bgcolor="#E0E0E0" width="100%"><tr><td><pre class="screen">$ <b class="command">make site-install</b></pre></td></tr></table><p>Please note that I'm not the maintainer of this particular Ruby
    extension, so I can't really accept bug fixes for it. But if you're having
    trouble integrating Ruby/OpenGL with FXRuby, let me know and we'll see
    what we can do.</p></div><div class="simplesect" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="d0e3721"></a>The FXGLVisual Class</h2></div></div><div></div></div><p>An <tt class="classname">FXGLVisual</tt> object describes the
    capabilities of an <tt class="classname">FXGLCanvas</tt> or
    <tt class="classname">FXGLViewer</tt> window. Typically, an X server supports
    many different visuals with varying capabilities, but the ones with
    greater capabilities require more resources than those with fewer
    capbilities. To construct an <tt class="classname">FXGLVisual</tt> object,
    just call <tt class="methodname">FXGLVisual.new</tt>:</p><table border="0" bgcolor="#E0E0E0" width="100%"><tr><td><pre class="programlisting">aVisual = FXGLVisual.new(theApp, VISUAL_DOUBLEBUFFER)</pre></td></tr></table><p>The first argument to <tt class="methodname">FXGLVisual.new</tt> is a
    reference to the application object. The second argument is a set of
    options indicating the <span class="emphasis"><em>requested</em></span> capabilities for the
    visual. If one or more of the requested capabilities aren't available, FOX
    will try to gracefully degrade to a working GL visual; but if you're
    counting on a specific capability, be sure to check the returned visual to
    see if it actually supports that capability. For example, say you request
    a visual with double-buffering and stereographic capabilities:</p><table border="0" bgcolor="#E0E0E0" width="100%"><tr><td><pre class="programlisting">anotherVisual = FXGLVisual.new(theApp, VISUAL_DOUBLEBUFFER | VISUAL_STEREO)</pre></td></tr></table><p>Double-buffering is pretty commonplace these days, but stereo may
    not be available on the system. We can check to see whether the visual we
    got supports these capabilities by calling the
    <tt class="methodname">FXGLVisual#doubleBuffered?</tt> and
    <tt class="methodname">FXGLVisual#stereo?</tt> methods:</p><table border="0" bgcolor="#E0E0E0" width="100%"><tr><td><pre class="programlisting">anotherVisual = FXGLVisual.new(theApp, VISUAL_DOUBLEBUFFER | VISUAL_STEREO)
if anotherVisual.doubleBuffered?
  puts "It's double-buffered."
else
  puts "It's single-buffered."
end
if anotherVisual.stereo?
  puts "It's stereo."
else
  puts "It isn't stereo."
end</pre></td></tr></table><p>Some <tt class="classname">FXGLVisual</tt> object must be associated
    with every <tt class="classname">FXGLCanvas</tt> or
    <tt class="classname">FXGLViewer</tt> window, but you don't need to have a
    separate <tt class="classname">FXGLVisual</tt> object for each window. For
    most applications, you can just construct a single
    <tt class="classname">FXGLVisual</tt> object that's shared among all the
    OpenGL windows.</p></div><div class="simplesect" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="d0e3780"></a>The FXGLCanvas Class</h2></div></div><div></div></div><p>The <tt class="classname">FXGLCanvas</tt> widget provides a very simple
    OpenGL-capable window with minimal functionality. To construct an
    <tt class="classname">FXGLCanvas</tt>, call
    <tt class="methodname">FXGLCanvas.new</tt>:</p><table border="0" bgcolor="#E0E0E0" width="100%"><tr><td><pre class="programlisting">glCanvas = FXGLCanvas.new(parent, vis)</pre></td></tr></table><p>The first argument to <tt class="methodname">FXGLCanvas.new</tt> is the
    parent (container) widget and the second argument is the
    <tt class="classname">FXGLVisual</tt> that should be used for this
    window.</p></div><div class="simplesect" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="d0e3804"></a>OpenGL objects and the FXGLViewer</h2></div></div><div></div></div><p>The <tt class="classname">FXGLViewer</tt> widget provides a higher-level
    OpenGL-capable window with a lot of built-in functionality. To construct
    an <tt class="classname">FXGLViewer</tt>, call
    <tt class="methodname">FXGLViewer.new</tt>:</p><table border="0" bgcolor="#E0E0E0" width="100%"><tr><td><pre class="programlisting">glViewer = FXGLViewer.new(parent, vis)</pre></td></tr></table><p>The first argument to <tt class="methodname">FXGLViewer.new</tt> is the
    parent (container) widget and the second argument is the
    <tt class="classname">FXGLVisual</tt> that should be used for this
    window.</p></div></div><div class="navfooter"><hr><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="pt02.html">Prev</a>&nbsp;</td><td width="20%" align="center"><a accesskey="u" href="pt02.html">Up</a></td><td width="40%" align="right">&nbsp;<a accesskey="n" href="scintilla.html">Next</a></td></tr><tr><td width="40%" align="left" valign="top">Part&nbsp;II.&nbsp;Appendices&nbsp;</td><td width="20%" align="center"><a accesskey="h" href="book.html">Home</a></td><td width="40%" align="right" valign="top">&nbsp;Appendix&nbsp;B.&nbsp;Using Scintilla with FXRuby</td></tr></table></div></body></html>