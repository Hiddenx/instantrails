<?xml version="1.0" encoding="iso-8859-1"?>
<!DOCTYPE html 
     PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
     "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
  <title>Class: ActionController::UploadProgress::Progress</title>
  <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" />
  <meta http-equiv="Content-Script-Type" content="text/javascript" />
  <link rel="stylesheet" href="../../.././rdoc-style.css" type="text/css" media="screen" />
  <script type="text/javascript">
  // <![CDATA[

  function popupCode( url ) {
    window.open(url, "Code", "resizable=yes,scrollbars=yes,toolbar=no,status=no,height=150,width=400")
  }

  function toggleCode( id ) {
    if ( document.getElementById )
      elem = document.getElementById( id );
    else if ( document.all )
      elem = eval( "document.all." + id );
    else
      return false;

    elemStyle = elem.style;
    
    if ( elemStyle.display != "block" ) {
      elemStyle.display = "block"
    } else {
      elemStyle.display = "none"
    }

    return true;
  }
  
  // Make codeblocks hidden by default
  document.writeln( "<style type=\"text/css\">div.method-source-code { display: none }</style>" )
  
  // ]]>
  </script>

</head>
<body>



    <div id="classHeader">
        <table class="header-table">
        <tr class="top-aligned-row">
          <td><strong>Class</strong></td>
          <td class="class-name-in-header">ActionController::UploadProgress::Progress</td>
        </tr>
        <tr class="top-aligned-row">
            <td><strong>In:</strong></td>
            <td>
                <a href="../../../files/lib/action_controller/upload_progress_rb.html">
                lib/action_controller/upload_progress.rb
                </a>
        <br />
            </td>
        </tr>

        <tr class="top-aligned-row">
            <td><strong>Parent:</strong></td>
            <td>
                Object
            </td>
        </tr>
        </table>
    </div>
  <!-- banner header -->

  <div id="bodyContent">



  <div id="contextContent">

    <div id="description">
      <h2>THIS IS AN EXPERIMENTAL FEATURE</h2>
<p>
Which means that it doesn&#8217;t yet work on all systems. We&#8216;re
still working on full compatibility. It&#8217;s thus not advised to use
this unless you&#8217;ve verified it to work fully on all the systems that
is a part of your environment. Consider this an extended preview.
</p>
<p>
Upload <a href="Progress.html">Progress</a> abstracts the progress of an
upload. It&#8217;s used by the multipart progress IO that keeps track of
the upload progress and creating the application depends on. It contians
methods to update the progress during an upload and read the statistics
such as <tt>received_bytes</tt>, <tt>total_bytes</tt>, <tt><a
href="Progress.html#M000835">completed_percent</a></tt>, <tt>bitrate</tt>,
and <tt><a href="Progress.html#M000838">remaining_seconds</a></tt>
</p>
<p>
You can get the current <tt><a href="Progress.html">Progress</a></tt>
object by calling <tt>upload_progress</tt> instance method in your
controller or view.
</p>

    </div>


   </div>

    <div id="method-list">
      <h3 class="section-bar">Methods</h3>

      <div class="name-list">
      <a href="#M000836">bitrate</a>&nbsp;&nbsp;
      <a href="#M000835">completed_percent</a>&nbsp;&nbsp;
      <a href="#M000837">elapsed_seconds</a>&nbsp;&nbsp;
      <a href="#M000839">finished?</a>&nbsp;&nbsp;
      <a href="#M000832">new</a>&nbsp;&nbsp;
      <a href="#M000834">remaining_bytes</a>&nbsp;&nbsp;
      <a href="#M000838">remaining_seconds</a>&nbsp;&nbsp;
      <a href="#M000833">reset!</a>&nbsp;&nbsp;
      <a href="#M000841">stalled?</a>&nbsp;&nbsp;
      <a href="#M000840">started?</a>&nbsp;&nbsp;
      </div>
    </div>

  </div>


    <!-- if includes -->

    <div id="section">


    <div id="constants-list">
      <h3 class="section-bar">Constants</h3>

      <div class="name-list">
        <table summary="Constants">
        <tr class="top-aligned-row context-row">
          <td class="context-item-name">MIN_SAMPLE_TIME</td>
          <td>=</td>
          <td class="context-item-value">0.150</td>
          <td width="3em">&nbsp;</td>
          <td class="context-item-desc">
Number of seconds between bitrate samples. Updates that occur more
frequently than <tt>MIN_SAMPLE_TIME</tt> will not be queued until this time
passes. This behavior gives a good balance of accuracy and load for both
fast and slow transfers.

</td>
        </tr>
        <tr class="top-aligned-row context-row">
          <td class="context-item-name">MIN_STALL_TIME</td>
          <td>=</td>
          <td class="context-item-value">10.0</td>
          <td width="3em">&nbsp;</td>
          <td class="context-item-desc">
Number of seconds between updates before giving up to try and calculate
bitrate anymore

</td>
        </tr>
        <tr class="top-aligned-row context-row">
          <td class="context-item-name">MAX_SAMPLES</td>
          <td>=</td>
          <td class="context-item-value">20</td>
          <td width="3em">&nbsp;</td>
          <td class="context-item-desc">
Number of samples used to calculate bitrate

</td>
        </tr>
        </table>
      </div>
    </div>



    <div id="attribute-list">
      <h3 class="section-bar">Attributes</h3>

      <div class="name-list">
        <table>
        <tr class="top-aligned-row context-row">
          <td class="context-item-name">last_update_time</td>
          <td class="context-item-value">&nbsp;[R]&nbsp;</td>
          <td class="context-item-desc">
The last time the upload history was updated

</td>
        </tr>
        <tr class="top-aligned-row context-row">
          <td class="context-item-name">message</td>
          <td class="context-item-value">&nbsp;[RW]&nbsp;</td>
          <td class="context-item-desc">
A message you can set from your controller or view to be rendered in the
<tt>upload_status_text</tt> helper method. If you set a messagein a
controller then call <tt>session.update</tt> to make that message available
to your <tt>upload_status</tt> action.

</td>
        </tr>
        <tr class="top-aligned-row context-row">
          <td class="context-item-name">received_bytes</td>
          <td class="context-item-value">&nbsp;[R]&nbsp;</td>
          <td class="context-item-desc">
Number bytes received from the multipart post

</td>
        </tr>
        <tr class="top-aligned-row context-row">
          <td class="context-item-name">total_bytes</td>
          <td class="context-item-value">&nbsp;[R]&nbsp;</td>
          <td class="context-item-desc">
Total number of bytes expected from the mutlipart post

</td>
        </tr>
        </table>
      </div>
    </div>
      


    <!-- if method_list -->
    <div id="methods">
      <h3 class="section-bar">Public Class methods</h3>

      <div id="method-M000832" class="method-detail">
        <a name="M000832"></a>

        <div class="method-heading">
          <a href="Progress.src/M000832.html" target="Code" class="method-signature"
            onclick="popupCode('Progress.src/M000832.html');return false;">
          <span class="method-name">new</span><span class="method-args">(total)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Create a new <a href="Progress.html">Progress</a> object passing the
expected number of bytes to receive
</p>
        </div>
      </div>

      <h3 class="section-bar">Public Instance methods</h3>

      <div id="method-M000836" class="method-detail">
        <a name="M000836"></a>

        <div class="method-heading">
          <a href="Progress.src/M000836.html" target="Code" class="method-signature"
            onclick="popupCode('Progress.src/M000836.html');return false;">
          <span class="method-name">bitrate</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Calculates the bitrate in bytes/second. If the transfer is stalled or just
started, the bitrate will be 0
</p>
        </div>
      </div>

      <div id="method-M000835" class="method-detail">
        <a name="M000835"></a>

        <div class="method-heading">
          <a href="Progress.src/M000835.html" target="Code" class="method-signature"
            onclick="popupCode('Progress.src/M000835.html');return false;">
          <span class="method-name">completed_percent</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Completed percent in integer form from 0..100
</p>
        </div>
      </div>

      <div id="method-M000837" class="method-detail">
        <a name="M000837"></a>

        <div class="method-heading">
          <a href="Progress.src/M000837.html" target="Code" class="method-signature"
            onclick="popupCode('Progress.src/M000837.html');return false;">
          <span class="method-name">elapsed_seconds</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Number of seconds elapsed since the start of the upload
</p>
        </div>
      </div>

      <div id="method-M000839" class="method-detail">
        <a name="M000839"></a>

        <div class="method-heading">
          <a href="Progress.src/M000839.html" target="Code" class="method-signature"
            onclick="popupCode('Progress.src/M000839.html');return false;">
          <span class="method-name">finished?</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Returns true if there are bytes pending otherwise returns false
</p>
        </div>
      </div>

      <div id="method-M000834" class="method-detail">
        <a name="M000834"></a>

        <div class="method-heading">
          <a href="Progress.src/M000834.html" target="Code" class="method-signature"
            onclick="popupCode('Progress.src/M000834.html');return false;">
          <span class="method-name">remaining_bytes</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Number of bytes left for this upload
</p>
        </div>
      </div>

      <div id="method-M000838" class="method-detail">
        <a name="M000838"></a>

        <div class="method-heading">
          <a href="Progress.src/M000838.html" target="Code" class="method-signature"
            onclick="popupCode('Progress.src/M000838.html');return false;">
          <span class="method-name">remaining_seconds</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Calculate the seconds remaining based on the current bitrate. Returns O
seconds if stalled or if no bytes have been received
</p>
        </div>
      </div>

      <div id="method-M000833" class="method-detail">
        <a name="M000833"></a>

        <div class="method-heading">
          <a href="Progress.src/M000833.html" target="Code" class="method-signature"
            onclick="popupCode('Progress.src/M000833.html');return false;">
          <span class="method-name">reset!</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Resets the received_bytes, last_update_time, message and bitrate, but but
maintains the total expected bytes
</p>
        </div>
      </div>

      <div id="method-M000841" class="method-detail">
        <a name="M000841"></a>

        <div class="method-heading">
          <a href="Progress.src/M000841.html" target="Code" class="method-signature"
            onclick="popupCode('Progress.src/M000841.html');return false;">
          <span class="method-name">stalled?</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Returns true if there has been a delay in receiving bytes. The delay is set
by the constant MIN_STALL_TIME
</p>
        </div>
      </div>

      <div id="method-M000840" class="method-detail">
        <a name="M000840"></a>

        <div class="method-heading">
          <a href="Progress.src/M000840.html" target="Code" class="method-signature"
            onclick="popupCode('Progress.src/M000840.html');return false;">
          <span class="method-name">started?</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Returns true if some bytes have been received
</p>
        </div>
      </div>


    </div>


  </div>


<div id="validator-badges">
  <p><small><a href="http://validator.w3.org/check/referer">[Validate]</a></small></p>
</div>

</body>
</html>